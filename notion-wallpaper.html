<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca; min-height: 16.0px}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #4689cc; -webkit-text-stroke: #4689cc}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #8cd3fe; -webkit-text-stroke: #8cd3fe}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #c27e65; -webkit-text-stroke: #c27e65}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #71c083; -webkit-text-stroke: #71c083}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #6d7378; -webkit-text-stroke: #6d7378}
    span.s1 {font-kerning: none}
    span.s2 {font-kerning: none; color: #6d6d6d; background-color: #171818; -webkit-text-stroke: 0px #6d6d6d}
    span.s3 {font-kerning: none; background-color: #171818}
    span.s4 {font-kerning: none; color: #cacaca; background-color: #171818; -webkit-text-stroke: 0px #cacaca}
    span.s5 {font-kerning: none; color: #8cd3fe; background-color: #171818; -webkit-text-stroke: 0px #8cd3fe}
    span.s6 {font-kerning: none; color: #c27e65; background-color: #171818; -webkit-text-stroke: 0px #c27e65}
    span.s7 {font-kerning: none; color: #4689cc; background-color: #171818; -webkit-text-stroke: 0px #4689cc}
    span.s8 {font-kerning: none; color: #b76ff7; background-color: #171818; -webkit-text-stroke: 0px #b76ff7}
    span.s9 {font-kerning: none; color: #d4d4d4; background-color: #171818; -webkit-text-stroke: 0px #d4d4d4}
    span.s10 {font-kerning: none; color: #71c083; background-color: #171818; -webkit-text-stroke: 0px #71c083}
    span.s11 {font-kerning: none; color: #6d7378; background-color: #171818; -webkit-text-stroke: 0px #6d7378}
    span.s12 {font-kerning: none; color: #f67c30; background-color: #171818; -webkit-text-stroke: 0px #f67c30}
    span.s13 {font-kerning: none; color: #36c0a0; background-color: #171818; -webkit-text-stroke: 0px #36c0a0}
    span.s14 {font-kerning: none; color: #a34f83; background-color: #171818; -webkit-text-stroke: 0px #a34f83}
  </style>
</head>
<body>
<p class="p1"><span class="s1"></span><br></p>
<p class="p2"><span class="s2">&lt;</span><span class="s3">html</span><span class="s4"> </span><span class="s5">lang</span><span class="s2">=</span><span class="s6">"en"</span><span class="s2">&gt;</span></p>
<p class="p2"><span class="s2">&lt;</span><span class="s3">head</span><span class="s2">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s2">&lt;</span><span class="s7">meta</span><span class="s4"> </span><span class="s3">charset</span><span class="s2">=</span><span class="s6">"UTF-8"</span><span class="s2">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s2">&lt;</span><span class="s7">meta</span><span class="s4"> </span><span class="s5">name</span><span class="s2">=</span><span class="s3">"viewport"</span><span class="s4"> </span><span class="s5">content</span><span class="s2">=</span><span class="s3">"width=device-width, initial-scale=1.0"</span><span class="s2">&gt;</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">    </span></span><span class="s2">&lt;</span><span class="s7">title</span><span class="s2">&gt;</span><span class="s3">90-Day Transformation Wallpaper</span><span class="s2">&lt;/</span><span class="s7">title</span><span class="s2">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s2">&lt;</span><span class="s7">script</span><span class="s4"> </span><span class="s5">src</span><span class="s2">=</span><span class="s3">"https://cdn.tailwindcss.com"</span><span class="s2">&gt;&lt;/</span><span class="s7">script</span><span class="s2">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s2">&lt;</span><span class="s3">style</span><span class="s2">&gt;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s8">@import</span><span class="s4"> </span><span class="s6">url</span><span class="s9">(</span><span class="s3">'https://fonts.googleapis.com/css2?family=Inter:wght@400;700&amp;display=swap'</span><span class="s9">);</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">        </span></span><span class="s7">body</span><span class="s3"> </span><span class="s9">{</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">            </span></span><span class="s5">font-family:</span><span class="s3"> </span><span class="s10">'Inter'</span><span class="s9">,</span><span class="s3"> </span><span class="s6">sans-serif</span><span class="s9">;</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s5">background-color:</span><span class="s4"> #111827</span><span class="s9">;</span><span class="s4"> </span><span class="s3">/* A very dark grey */</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">        </span></span><span class="s9">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s2">&lt;/</span><span class="s3">style</span><span class="s2">&gt;</span></p>
<p class="p2"><span class="s2">&lt;/</span><span class="s3">head</span><span class="s2">&gt;</span></p>
<p class="p4"><span class="s2">&lt;</span><span class="s7">body</span><span class="s4"> </span><span class="s5">class</span><span class="s2">=</span><span class="s3">"bg-gray-950 flex flex-col items-center justify-center min-h-screen text-gray-100 p-8"</span><span class="s2">&gt;</span></p>
<p class="p1"><span class="s1"></span><br></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s2">&lt;</span><span class="s7">div</span><span class="s4"> </span><span class="s5">class</span><span class="s2">=</span><span class="s3">"max-w-4xl mx-auto text-center"</span><span class="s2">&gt;</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;!-- Quote container to be updated by the API --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s2">&lt;</span><span class="s7">div</span><span class="s4"> </span><span class="s5">id</span><span class="s2">=</span><span class="s3">"quote-container"</span><span class="s4"> </span><span class="s5">class</span><span class="s2">=</span><span class="s3">"relative z-10 min-h-[100px] flex items-center justify-center mb-6"</span><span class="s2">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">&lt;</span><span class="s7">h1</span><span class="s4"> </span><span class="s5">id</span><span class="s2">=</span><span class="s3">"quote-text"</span><span class="s4"> </span><span class="s5">class</span><span class="s2">=</span><span class="s3">"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-extrabold tracking-tight leading-tight"</span><span class="s2">&gt;</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">                </span>Discipline is the bridge </span><span class="s2">&lt;</span><span class="s7">br</span><span class="s3"> </span><span class="s5">class</span><span class="s2">=</span><span class="s6">"sm:hidden"</span><span class="s2">&gt;</span><span class="s3">between goals </span><span class="s2">&lt;</span><span class="s7">br</span><span class="s3"> </span><span class="s5">class</span><span class="s2">=</span><span class="s6">"sm:hidden"</span><span class="s2">&gt;</span><span class="s3">and accomplishment.</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">            </span></span><span class="s2">&lt;/</span><span class="s7">h1</span><span class="s2">&gt;</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;!-- Loading indicator that will be hidden by default --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">&lt;</span><span class="s7">div</span><span class="s4"> </span><span class="s5">id</span><span class="s2">=</span><span class="s3">"loading-indicator"</span><span class="s4"> </span><span class="s5">class</span><span class="s2">=</span><span class="s3">"hidden text-xl sm:text-2xl md:text-3xl font-semibold text-gray-400"</span><span class="s2">&gt;</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">                </span>Generating...</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">            </span></span><span class="s2">&lt;/</span><span class="s7">div</span><span class="s2">&gt;</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">        </span></span><span class="s2">&lt;/</span><span class="s7">div</span><span class="s2">&gt;</span></p>
<p class="p1"><span class="s1"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;!-- Button to generate a new quote using the Gemini API --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s2">&lt;</span><span class="s7">button</span><span class="s4"> </span><span class="s5">id</span><span class="s2">=</span><span class="s3">"generate-button"</span><span class="s4"> </span><span class="s5">class</span><span class="s2">=</span><span class="s3">"bg-gray-700 hover:bg-gray-600 text-gray-200 font-bold py-3 px-6 rounded-lg transition-colors duration-200 shadow-lg focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 focus:ring-offset-gray-900"</span><span class="s2">&gt;</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">            </span>✨ Generate a New Quote</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">        </span></span><span class="s2">&lt;/</span><span class="s7">button</span><span class="s2">&gt;</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">    </span></span><span class="s2">&lt;/</span><span class="s7">div</span><span class="s2">&gt;</span></p>
<p class="p1"><span class="s1"></span><br></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s2">&lt;</span><span class="s3">script</span><span class="s2">&gt;</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">// Get references to the DOM elements</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">        </span></span><span class="s8">const</span><span class="s3"> generateButton </span><span class="s9">=</span><span class="s3"> document</span><span class="s9">.</span><span class="s3">getElementById</span><span class="s9">(</span><span class="s10">'generate-button'</span><span class="s9">);</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">        </span></span><span class="s8">const</span><span class="s3"> quoteText </span><span class="s9">=</span><span class="s3"> document</span><span class="s9">.</span><span class="s3">getElementById</span><span class="s9">(</span><span class="s10">'quote-text'</span><span class="s9">);</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">        </span></span><span class="s8">const</span><span class="s3"> loadingIndicator </span><span class="s9">=</span><span class="s3"> document</span><span class="s9">.</span><span class="s3">getElementById</span><span class="s9">(</span><span class="s10">'loading-indicator'</span><span class="s9">);</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">        </span></span><span class="s8">const</span><span class="s3"> quoteContainer </span><span class="s9">=</span><span class="s3"> document</span><span class="s9">.</span><span class="s3">getElementById</span><span class="s9">(</span><span class="s10">'quote-container'</span><span class="s9">);</span></p>
<p class="p1"><span class="s1"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">// Function to call the Gemini API</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">        </span></span><span class="s8">async</span><span class="s3"> </span><span class="s8">function</span><span class="s3"> getNewQuote</span><span class="s9">()</span><span class="s3"> </span><span class="s9">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">// Hide the existing quote and show the loading indicator</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">            </span>quoteText</span><span class="s9">.</span><span class="s3">classList</span><span class="s9">.</span><span class="s3">add</span><span class="s9">(</span><span class="s10">'hidden'</span><span class="s9">);</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">            </span>loadingIndicator</span><span class="s9">.</span><span class="s3">classList</span><span class="s9">.</span><span class="s3">remove</span><span class="s9">(</span><span class="s10">'hidden'</span><span class="s9">);</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">            </span>generateButton</span><span class="s9">.</span><span class="s3">disabled </span><span class="s9">=</span><span class="s3"> </span><span class="s8">true</span><span class="s9">;</span><span class="s3"> </span><span class="s11">// Disable button during API call</span></p>
<p class="p1"><span class="s1"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">// The prompt for the LLM</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s8">const</span><span class="s4"> prompt </span><span class="s9">=</span><span class="s4"> </span><span class="s3">"Generate a single, short, powerful, and inspiring motivational quote suitable for a wallpaper. The quote should be no more than 15 words."</span><span class="s9">;</span></p>
<p class="p1"><span class="s1"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">// API payload</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">            </span></span><span class="s8">let</span><span class="s3"> chatHistory </span><span class="s9">=</span><span class="s3"> </span><span class="s9">[];</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">            </span>chatHistory</span><span class="s9">.</span><span class="s3">push</span><span class="s9">({</span><span class="s3"> role</span><span class="s9">:</span><span class="s3"> </span><span class="s10">"user"</span><span class="s9">,</span><span class="s3"> parts</span><span class="s9">:</span><span class="s3"> </span><span class="s9">[{</span><span class="s3"> text</span><span class="s9">:</span><span class="s3"> prompt </span><span class="s9">}]</span><span class="s3"> </span><span class="s9">});</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">            </span></span><span class="s8">const</span><span class="s3"> payload </span><span class="s9">=</span><span class="s3"> </span><span class="s9">{</span><span class="s3"> contents</span><span class="s9">:</span><span class="s3"> chatHistory </span><span class="s9">};</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">            </span></span><span class="s8">const</span><span class="s3"> apiKey </span><span class="s9">=</span><span class="s3"> </span><span class="s10">""</span><span class="s9">;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s8">const</span><span class="s4"> apiUrl </span><span class="s9">=</span><span class="s4"> </span><span class="s3">`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=</span><span class="s9">${</span><span class="s4">apiKey</span><span class="s9">}</span><span class="s3">`</span><span class="s9">;</span></p>
<p class="p1"><span class="s1"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">// Exponential backoff for API retries</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">            </span></span><span class="s8">for</span><span class="s3"> </span><span class="s9">(</span><span class="s8">let</span><span class="s3"> i </span><span class="s9">=</span><span class="s3"> </span><span class="s12">0</span><span class="s9">;</span><span class="s3"> i </span><span class="s9">&lt;</span><span class="s3"> </span><span class="s12">5</span><span class="s9">;</span><span class="s3"> i</span><span class="s9">++)</span><span class="s3"> </span><span class="s9">{</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">                </span></span><span class="s8">try</span><span class="s3"> </span><span class="s9">{</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">                    </span></span><span class="s8">const</span><span class="s3"> response </span><span class="s9">=</span><span class="s3"> </span><span class="s8">await</span><span class="s3"> fetch</span><span class="s9">(</span><span class="s3">apiUrl</span><span class="s9">,</span><span class="s3"> </span><span class="s9">{</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">                        </span>method</span><span class="s9">:</span><span class="s3"> </span><span class="s10">'POST'</span><span class="s9">,</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">                        </span>headers</span><span class="s9">:</span><span class="s3"> </span><span class="s9">{</span><span class="s3"> </span><span class="s10">'Content-Type'</span><span class="s9">:</span><span class="s3"> </span><span class="s10">'application/json'</span><span class="s3"> </span><span class="s9">},</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">                        </span>body</span><span class="s9">:</span><span class="s3"> </span><span class="s13">JSON</span><span class="s9">.</span><span class="s3">stringify</span><span class="s9">(</span><span class="s3">payload</span><span class="s9">)</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">                    </span></span><span class="s9">});</span></p>
<p class="p1"><span class="s1"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">// Check if the response is successful</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">                    </span></span><span class="s8">if</span><span class="s3"> </span><span class="s9">(!</span><span class="s3">response</span><span class="s9">.</span><span class="s3">ok</span><span class="s9">)</span><span class="s3"> </span><span class="s9">{</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">                        </span></span><span class="s8">if</span><span class="s3"> </span><span class="s9">(</span><span class="s3">response</span><span class="s9">.</span><span class="s3">status </span><span class="s9">===</span><span class="s3"> </span><span class="s12">429</span><span class="s9">)</span><span class="s3"> </span><span class="s9">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s3">// Too many requests, retry with exponential backoff</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">                            </span></span><span class="s8">const</span><span class="s3"> delay </span><span class="s9">=</span><span class="s3"> </span><span class="s13">Math</span><span class="s9">.</span><span class="s3">pow</span><span class="s9">(</span><span class="s12">2</span><span class="s9">,</span><span class="s3"> i</span><span class="s9">)</span><span class="s3"> </span><span class="s9">*</span><span class="s3"> </span><span class="s12">1000</span><span class="s3"> </span><span class="s9">+</span><span class="s3"> </span><span class="s13">Math</span><span class="s9">.</span><span class="s3">random</span><span class="s9">()</span><span class="s3"> </span><span class="s9">*</span><span class="s3"> </span><span class="s12">1000</span><span class="s9">;</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">                            </span></span><span class="s8">await</span><span class="s3"> </span><span class="s8">new</span><span class="s3"> </span><span class="s13">Promise</span><span class="s9">(</span><span class="s3">res </span><span class="s9">=&gt;</span><span class="s3"> setTimeout</span><span class="s9">(</span><span class="s3">res</span><span class="s9">,</span><span class="s3"> delay</span><span class="s9">));</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">                            </span></span><span class="s8">continue</span><span class="s9">;</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">                        </span></span><span class="s9">}</span><span class="s3"> </span><span class="s8">else</span><span class="s3"> </span><span class="s9">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s3">// Other errors, throw to exit the loop</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">                            </span></span><span class="s8">throw</span><span class="s3"> </span><span class="s8">new</span><span class="s3"> </span><span class="s13">Error</span><span class="s9">(</span><span class="s10">`API call failed with status: </span><span class="s9">${</span><span class="s3">response</span><span class="s9">.</span><span class="s3">status</span><span class="s9">}</span><span class="s10">`</span><span class="s9">);</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">                        </span></span><span class="s9">}</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">                    </span></span><span class="s9">}</span></p>
<p class="p1"><span class="s1"></span><br></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">                    </span></span><span class="s8">const</span><span class="s3"> result </span><span class="s9">=</span><span class="s3"> </span><span class="s8">await</span><span class="s3"> response</span><span class="s9">.</span><span class="s3">json</span><span class="s9">();</span></p>
<p class="p1"><span class="s3"><span class="Apple-converted-space">                    </span></span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">                    </span></span><span class="s8">if</span><span class="s3"> </span><span class="s9">(</span><span class="s3">result</span><span class="s9">.</span><span class="s3">candidates </span><span class="s9">&amp;&amp;</span><span class="s3"> result</span><span class="s9">.</span><span class="s3">candidates</span><span class="s9">.</span><span class="s3">length </span><span class="s9">&gt;</span><span class="s3"> </span><span class="s12">0</span><span class="s3"> </span><span class="s9">&amp;&amp;</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">                        </span>result</span><span class="s9">.</span><span class="s3">candidates</span><span class="s9">[</span><span class="s12">0</span><span class="s9">].</span><span class="s3">content </span><span class="s9">&amp;&amp;</span><span class="s3"> result</span><span class="s9">.</span><span class="s3">candidates</span><span class="s9">[</span><span class="s12">0</span><span class="s9">].</span><span class="s3">content</span><span class="s9">.</span><span class="s3">parts </span><span class="s9">&amp;&amp;</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">                        </span>result</span><span class="s9">.</span><span class="s3">candidates</span><span class="s9">[</span><span class="s12">0</span><span class="s9">].</span><span class="s3">content</span><span class="s9">.</span><span class="s3">parts</span><span class="s9">.</span><span class="s3">length </span><span class="s9">&gt;</span><span class="s3"> </span><span class="s12">0</span><span class="s9">)</span><span class="s3"> </span><span class="s9">{</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">                        </span></span><span class="s8">const</span><span class="s3"> newQuote </span><span class="s9">=</span><span class="s3"> result</span><span class="s9">.</span><span class="s3">candidates</span><span class="s9">[</span><span class="s12">0</span><span class="s9">].</span><span class="s3">content</span><span class="s9">.</span><span class="s3">parts</span><span class="s9">[</span><span class="s12">0</span><span class="s9">].</span><span class="s3">text</span><span class="s9">;</span></p>
<p class="p1"><span class="s3"><span class="Apple-converted-space">                        </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">// Replace newline characters with &lt;br&gt; for better formatting on the page</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">                        </span></span><span class="s8">const</span><span class="s3"> formattedQuote </span><span class="s9">=</span><span class="s3"> newQuote</span><span class="s9">.</span><span class="s3">replace</span><span class="s9">(</span><span class="s14">/\n/</span><span class="s8">g</span><span class="s9">,</span><span class="s3"> </span><span class="s10">'&lt;br&gt;'</span><span class="s9">);</span></p>
<p class="p1"><span class="s1"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">// Update the quote on the page</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">                        </span>quoteText</span><span class="s9">.</span><span class="s3">innerHTML </span><span class="s9">=</span><span class="s3"> formattedQuote</span><span class="s9">;</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s8">break</span><span class="s9">;</span><span class="s4"> </span><span class="s3">// Exit the loop on success</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">                    </span></span><span class="s9">}</span><span class="s3"> </span><span class="s8">else</span><span class="s3"> </span><span class="s9">{</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s8">throw</span><span class="s4"> </span><span class="s8">new</span><span class="s4"> </span><span class="s13">Error</span><span class="s9">(</span><span class="s3">"Invalid response structure from API."</span><span class="s9">);</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">                    </span></span><span class="s9">}</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">                </span></span><span class="s9">}</span><span class="s3"> </span><span class="s8">catch</span><span class="s3"> </span><span class="s9">(</span><span class="s3">error</span><span class="s9">)</span><span class="s3"> </span><span class="s9">{</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">                    </span>console</span><span class="s9">.</span><span class="s3">error</span><span class="s9">(</span><span class="s10">'Error fetching new quote:'</span><span class="s9">,</span><span class="s3"> error</span><span class="s9">);</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">// On error, show a default message.</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                    </span>quoteText</span><span class="s9">.</span><span class="s4">innerText </span><span class="s9">=</span><span class="s4"> </span><span class="s3">"Error fetching quote. Please try again."</span><span class="s9">;</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">                    </span></span><span class="s8">break</span><span class="s9">;</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">                </span></span><span class="s9">}</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">            </span></span><span class="s9">}</span></p>
<p class="p1"><span class="s1"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">// Hide loading indicator and show the new quote</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">            </span>loadingIndicator</span><span class="s9">.</span><span class="s3">classList</span><span class="s9">.</span><span class="s3">add</span><span class="s9">(</span><span class="s10">'hidden'</span><span class="s9">);</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">            </span>quoteText</span><span class="s9">.</span><span class="s3">classList</span><span class="s9">.</span><span class="s3">remove</span><span class="s9">(</span><span class="s10">'hidden'</span><span class="s9">);</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">            </span>generateButton</span><span class="s9">.</span><span class="s3">disabled </span><span class="s9">=</span><span class="s3"> </span><span class="s8">false</span><span class="s9">;</span><span class="s3"> </span><span class="s11">// Re-enable button</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">        </span></span><span class="s9">}</span></p>
<p class="p1"><span class="s1"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">// Add event listener to the button</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">        </span>generateButton</span><span class="s9">.</span><span class="s3">addEventListener</span><span class="s9">(</span><span class="s10">'click'</span><span class="s9">,</span><span class="s3"> getNewQuote</span><span class="s9">);</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s2">&lt;/</span><span class="s3">script</span><span class="s2">&gt;</span></p>
<p class="p1"><span class="s1"></span><br></p>
<p class="p2"><span class="s2">&lt;/</span><span class="s3">body</span><span class="s2">&gt;</span></p>
<p class="p2"><span class="s2">&lt;/</span><span class="s3">html</span><span class="s2">&gt;</span></p>
<p class="p1"><span class="s1"></span><br></p>
</body>
</html>
